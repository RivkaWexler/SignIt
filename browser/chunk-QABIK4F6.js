import{a,b as p}from"./chunk-XY6EKUD7.js";import{A as u,r as l,t as c,x as s}from"./chunk-TZAG237N.js";var g=class o{constructor(e,i){this.el=e;this.languageService=i}key="";ngOnChanges(e){e.key&&!e.key.firstChange&&this.updateTranslation(this.key)}subscription=null;ngOnInit(){if(!this.key){console.warn("Translation key not provided for appTranslate directive");return}this.subscription=this.languageService.selectedLanguage.subscribe(e=>{this.updateTranslation(this.key,e)})}updateTranslation(e,i){if(!e)return;let r=i||this.languageService.getCurrentLanguage(),t=a[r]?.[e];if(!t&&r!=="en"&&(t=a.en?.[e]),t||(t=e,console.warn(`Translation missing for key: '${e}' in language: '${r}'`)),Array.from(this.el.nativeElement.childNodes).some(n=>n.nodeType!==Node.TEXT_NODE)){let n=Array.from(this.el.nativeElement.childNodes).find(d=>d.nodeType===Node.TEXT_NODE);n||(n=document.createTextNode(""),this.el.nativeElement.insertBefore(n,this.el.nativeElement.firstChild)),n.textContent=t}else this.el.nativeElement.textContent=t}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||o)(s(c),s(p))};static \u0275dir=u({type:o,selectors:[["","appTranslate",""]],inputs:{key:[0,"appTranslate","key"]},features:[l]})};export{g as a};
